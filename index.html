<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nick — Projects</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="dark">
  <header class="site-wrap">
    <nav class="topbar">
      <a class="home" href="/">⌂</a>
      <div class="spacer"></div>
      <!-- Light switch -->
  <button id="theme-toggle" aria-label="Toggle theme" title="Toggle theme">☀︎</button>
    </nav>

  </header>

  <!-- HERO -->
  <section class="hero">
    <canvas id="stars"></canvas>
    <div class="hero-inner">
      <img class="avatar" src="me.jpg" alt="Nick">
      <h1 class="title">Nick Isteepho</h1>
      <p class="tag">I build things in web, data, and operations.</p>
      <div class="links">
        <a href="#projects">Projects</a>
        <a href="mailto:you@example.com">Contact</a>
        <a href="#">Resume</a>
      </div>
    </div>
  </section>

  <!-- CONTENT -->
  <main class="site-wrap">
    <section id="projects">
      <h2>Fun Projects</h2>
      <div class="grid">
        <a class="card" href="#">
          <h3>Bananagrams (multiplayer)</h3>
          <p>Real-time rooms + Socket.IO.</p>
        </a>
        <a class="card" href="#">
          <h3>Vaporwave Horizon</h3>
          <p>Pure CSS animated horizon.</p>
        </a>
      </div>
    </section>
    <footer class="footer">
      <p>© <span id="y"></span> Nick</p>
    </footer>
  </main>

    // Theme toggle
    <script>
  // Year
  document.getElementById('y').textContent = new Date().getFullYear();

  // --- Theme persistence + toggle ---
  const toggle = document.getElementById('theme-toggle');

  function setTheme(mode) {
    const dark = mode === 'dark';
    document.body.classList.toggle('dark', dark);
    localStorage.setItem('theme', dark ? 'dark' : 'light');
    toggle.textContent = dark ? '☀︎' : '☾'; // sun in dark, moon in light
    const msg = dark ? 'Switch to light mode' : 'Switch to dark mode';
    toggle.setAttribute('aria-label', msg);
    toggle.title = msg;
  }

  // Initialize: saved value > system preference
  (function initTheme() {
    const saved = localStorage.getItem('theme');
    if (saved === 'dark' || saved === 'light') {
      setTheme(saved);
    } else {
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      setTheme(prefersDark ? 'dark' : 'light');
    }
  })();

  // Click to toggle
  toggle.addEventListener('click', () => {
    const current = document.body.classList.contains('dark') ? 'dark' : 'light';
    setTheme(current === 'dark' ? 'light' : 'dark');
  });

  // --- Simple starfield (kept from earlier) ---
  const canvas = document.getElementById('stars');
  const ctx = canvas.getContext('2d');
  let w, h, stars;

  function resize() {
    w = canvas.width = canvas.offsetWidth;
    h = canvas.height = canvas.offsetHeight;
    stars = Array.from({ length: Math.round((w * h) / 2500) }, () => ({
      x: Math.random() * w,
      y: Math.random() * h,
      z: Math.random() * 0.8 + 0.2,
      s: Math.random() * 1.8 + 0.2
    }));
  }

  function step() {
    ctx.clearRect(0, 0, w, h);
    ctx.fillStyle = 'rgba(255,255,255,0.9)';
    for (const t of stars) {
      ctx.globalAlpha = t.z;
      ctx.fillRect(t.x, t.y, t.s, t.s);
      t.x -= 0.15 * t.z; // drift
      if (t.x < -2) { t.x = w + 2; t.y = Math.random() * h; }
    }
    requestAnimationFrame(step);
  }

  new ResizeObserver(resize).observe(canvas);
  resize();
  step();
</script>
